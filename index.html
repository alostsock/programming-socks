<!doctype html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>programming socks</title><meta name="description" content="programming socks"><style> @font-face { font-family: "Comic Mono"; src: url(https://cdn.jsdelivr.net/fontsource/fonts/comic-mono@latest/latin-400-normal.woff2) format("woff2"); } :root { height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; color: darkslategray; background: #0f1e38; font: min(2vw, 2vh) / 1.25 "Comic Mono"; word-break: break-all; line-break: anywhere; } body, #text { height: min-content; margin: 1em; position: relative; } </style></head><body><script> const body = document.body; const canvas = new OffscreenCanvas(100, 100); const ctx = canvas.getContext("2d"); function minify(html) { return ( html .replace(/^\s.*\/\*.*\*\/$/gm, "") .replace(/^\s+\/\/.*$/gm, "") .replace(/\>[\r\n ]+\</g, "><") .replace(/(<.*?>)|\s+/g, (_, m) => (m ? m.trim() : " ")) .trim() ); } function measureChars(text) { const { width, actualBoundingBoxAscent: asc, actualBoundingBoxDescent: desc, } = ctx.measureText(text); const lineHeight = 1.25; return [width / text.length, (asc + desc) * lineHeight]; } const bounds = (el) => el.getBoundingClientRect(); const text = "<!doctype html>" + minify(document.children[0].outerHTML); for (let char of text) { const span = document.createElement("span"); span.innerText = char; body.appendChild(span); } window.onload = () => { ctx.font = window.getComputedStyle(body).getPropertyValue("font"); const [charW, charH] = measureChars("Programming Socks"); const area = charW * charH * text.length; body.style.width = `${Math.sqrt(area)}px`; const { width: w, height: h, top: t0, left: l0 } = bounds(body); canvas.width = w; canvas.height = h; const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><path d="M28.5 0c6.1 25.1 6.5 20.4 4.2 28.4-2.9 15.2-.3 14 1.6 22.7.7 2.4 1.6 7 2.2 11.7 1.2 6.8-1.7 7.5-.8 10 .5 3.6 2.3 3.3 4.5 7.8 1.4 1.5 2.9 2.6 6.7 2.4 2.8-.5 4.6-2.8 2.5-4.3l-4.6-6c-1.7-3.3-2.1-5.6-2-11.8.4-9.2.6-17 2-25.8.8-3.7.6-3.5 2-9 2.8-4.7 1.6-11.7 1.4-16.7 0-3.7-.4-5.7-.4-9.4h6.5c-.5 4-1.4 10.5-1.6 14.5-1 14-2.1 17 .4 21.6 1.6 7.5 4.5 14.9 4 31.8-.3 8.2.1 9.3-3.8 13.4-1.9 2-1.8 1.4-5.3 5.1-3.3 3.3-6 2-5.8 7 2.3 2.6 7 1.4 9.7.7 3.3-.8 2.6-.8 5.8-5.8 3-3.3 8.5-5 6.3-9.8-.2-3.3.1-5.7.7-11.2.5-11.5 5-23.6 1.6-36 2.3-14.5 6.6-30 7-31.3Z"/></svg>`; const blob = new Blob([svg], { type: "image/svg+xml;" }); const dataUrl = URL.createObjectURL(blob); const img = new Image(); img.onload = () => { const s = Math.min(w / img.width, h / img.height); ctx.scale(s, s); ctx.drawImage(img, 0, 0); let stripeWidth = 2; let row = 0; let legs = [false, false]; let xPrev = 0; for (let span of body.children) { const { left: l1, top: t1 } = bounds(span); const [x, y] = [l1 - l0, t1 - t0]; if (l1 && ctx.getImageData(x, y, 1, 1).data[3] > 0) { if (x < xPrev) { row += 1; legs = [false, false]; } xPrev = x; let offset = legs[1] ? 0 : 1; span.style.color = Math.floor((row + offset) / stripeWidth) % 2 === 0 ? "#edb5c4" : "#bbcccc"; legs[0] = true; } else { legs[1] = legs[0]; } } }; img.src = dataUrl; }; </script></body></html>
